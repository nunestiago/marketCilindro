(this.webpackJsonpdesafiom03=this.webpackJsonpdesafiom03||[]).push([[0],{264:function(e,t,a){},280:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(15),i=a.n(o),c=(a(264),a(328)),s=a(331),l=a(61),d=Object(l.b)({overrides:{MuiButton:{text:{fontWeight:"bold"}},MuiTab:{root:{backgroundColor:"#434343"}}},palette:{common:{black:"#000",white:"#fff"},background:{paper:"#fff",default:"#e5e5e5",barBackground:"#434343"},primary:{light:"#7986cb",main:"#007dff",dark:"#303f9f",contrastText:"#fff"},secondary:{light:"#ff4081",main:"#ff505f",dark:"#c51162",contrastText:"#fff"},error:{light:"#e57373",main:"#F44336",dark:"#611A15",contrastText:"#611A15"},text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",hint:"rgba(0, 0, 0, 0.38)"}}}),u=a(13),j=a(5),p=Object(r.createContext)();function b(e){var t=e.children,a=Object(r.useState)({}),n=Object(u.a)(a,2),o=n[0],i=n[1],c=Object(r.useState)(""),s=Object(u.a)(c,2),l=s[0],d=s[1],b=Object(r.useState)({}),m=Object(u.a)(b,2),h=m[0],x=m[1];return Object(j.jsx)(p.Provider,{value:{user:o,setUser:i,token:l,setToken:d,productTo:h,setProductTo:x},children:t})}function m(){var e=Object(r.useContext)(p);return{user:e.user,setUser:e.setUser,token:e.token,setToken:e.setToken,productTo:e.productTo,setProductTo:e.setProductTo}}var h=a(24),x=a(25),O=a(235),f=a(283),g=a(236),v=Object(O.a)((function(e){return{backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}}}));var y=function(e){var t=v();return Object(j.jsx)(f.a,{className:t.backdrop,open:e.loading,children:Object(j.jsx)(g.a,{color:"inherit"})})},k=a(19),w=a(170),N=a(285),S=a(248),C=a(310),T=a(311),B=a(312),E=a(313),I=a(2),D=a(297),P=Object(D.a)((function(e){return{margin:{margin:e.spacing(0)},withoutLabel:{marginTop:e.spacing(3)},textField:{width:"100%",marginBottom:40}}})),R=function(e){var t=P(),a=Object(r.useState)(!1),n=Object(u.a)(a,2),o=n[0],i=n[1];return Object(j.jsxs)(w.a,{className:Object(I.a)(t.margin,t.textField),error:e.error,children:[Object(j.jsx)(N.a,{htmlFor:e.label,children:e.label}),Object(j.jsx)(S.a,Object(k.a)(Object(k.a)({id:e.label,type:o?"text":"password",name:e.name,label:e.label,onChange:e.onChange},e.register()),{},{endAdornment:Object(j.jsx)(C.a,{position:"end",children:Object(j.jsx)(T.a,{"aria-label":"toggle password visibility",onClick:function(){return i(!o)},onMouseDown:function(e){e.preventDefault()},children:o?Object(j.jsx)(B.a,{}):Object(j.jsx)(E.a,{})})})}))]})},A=a(314),z=a(339),F=Object(O.a)((function(){return{alert:{width:"100%"}}}));var L=function(e){var t=e.errors,a=F(),o=n.a.useState(!1),i=Object(u.a)(o,2),c=i[0],s=i[1];Object(r.useEffect)((function(){return s(!0),0===Object.keys(t).length?null:(0!==Object.keys(t).length&&s(!0),function(){s(!1)})}),[t]);var l=function(e,t){"clickaway"!==t&&s(!1)};return Object(j.jsx)(j.Fragment,{children:Object.keys(t).map((function(e,r){return Object(j.jsx)(A.a,{open:c,autoHideDuration:6e3,onClose:l,children:Object(j.jsx)(z.a,{severity:"error",className:a.alert,children:t[e].message})},r)}))})},q=a(315),U=a(316),W=a(318),_=a(317),G=a(123),J=Object(O.a)((function(e){return{root:{maxWidth:230,height:430,position:"relative",borderRadius:24,marginRight:24},deleteFlyButton:{position:"absolute",top:22,left:22,width:48,height:48,background:e.palette.secondary.main},cardBottom:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"auto"},cardTitle:{color:"#575757"},deleteSweepIcon:{color:"rgba(0, 0, 0, 0.7)",width:24,height:24}}}));var M=function(e){var t,a,r,n,o,i,c,s,l=e.item,d=e.onClickOpen,u=J(),p=Object(h.g)();return Object(j.jsx)(q.a,{className:u.root,id:null!==(t=null===l||void 0===l?void 0:l.id)&&void 0!==t?t:1,children:Object(j.jsxs)(U.a,{onClick:function(e){e.stopPropagation(),e.cancelBubble=!0,p.push("/produtos/".concat(l.id,"/editar"))},style:{height:"100%",display:"flex",flexDirection:"column",alignItems:"stretch",justifyContent:"flex-start"},children:[Object(j.jsx)(se,{onClickOpen:d}),Object(j.jsx)(_.a,{component:"img",alt:null!==(a=null===l||void 0===l?void 0:l.nome)&&void 0!==a?a:"Imagem do produto",height:"240",width:"230",image:null!==(r=null===l||void 0===l?void 0:l.imagem)&&void 0!==r?r:"http://loremflickr.com/240/230",title:null!==(n=null===l||void 0===l?void 0:l.nome)&&void 0!==n?n:"Cadastre primeiro produto"}),Object(j.jsxs)(W.a,{style:{display:"flex",flexDirection:"column",flexGrow:1},children:[Object(j.jsx)(G.a,{gutterBottom:!0,variant:"h5",component:"h2",className:u.cardTitle,children:null!==(o=null===l||void 0===l?void 0:l.nome)&&void 0!==o?o:"Registre algo"}),Object(j.jsx)(G.a,{variant:"caption",color:"textPrimary",component:"p",style:{flexGrow:"1"},children:null!==(i=null===l||void 0===l?void 0:l.descricao)&&void 0!==i?i:"Descri\xe7\xe3o do produto"}),Object(j.jsxs)("div",{className:u.cardBottom,children:[Object(j.jsxs)(G.a,{variant:"overline",color:"rgba(101, 101, 101, 0.855)",component:"p",children:[null!==(c=null===l||void 0===l?void 0:l.estoque)&&void 0!==c?c:0," unidades"]}),Object(j.jsxs)(G.a,{variant:"body2",color:"textPrimary",component:"p",children:["R$ ",null!==(s=((null===l||void 0===l?void 0:l.preco)/100).toFixed(2))&&void 0!==s?s:99.99]})]})]})]})})},H=a(11),$=a.n(H),V=a(18),Y=a(291),K=a(320),Q=a(325),X=a(323),Z=a(324),ee=a(322),te=a(14),ae=a(319);var re=function(e){var t=e.id,a=e.onClose,r=e.open,n=e.getData,o=Object(te.a)(),i=Object(ae.a)(o.breakpoints.down("sm")),c=m().token,s=Object(h.g)(),l=function(){var e=Object(V.a)($.a.mark((function e(){var r,o,i;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://stark-coast-12913.herokuapp.com/produto/".concat(t),{method:"DELETE",headers:{"Content-Type":"application/json",authorization:"Bearer "+c}});case 3:return r=e.sent,e.next=6,r.json();case 6:if(o=e.sent,r.ok){e.next=11;break}throw(i=new Error(o)).Status=400,i;case 11:s.push("/produtos"),e.next=16;break;case 14:e.prev=14,e.t0=e.catch(0);case 16:return e.prev=16,n(),e.finish(16);case 19:a();case 20:case"end":return e.stop()}}),e,null,[[0,14,16,19]])})));return function(){return e.apply(this,arguments)}}();return Object(j.jsxs)(K.a,{fullScreen:i,open:r,onClose:a,"aria-labelledby":"responsive-dialog-title",children:[Object(j.jsx)(ee.a,{id:"responsive-dialog-title",children:"Remover produto do cat\xe1logo?"}),Object(j.jsx)(X.a,{children:Object(j.jsx)(Z.a,{children:"Essa a\xe7\xe3o n\xe3o pode ser desfeita!"})}),Object(j.jsxs)(Q.a,{children:[Object(j.jsx)(Y.a,{autoFocus:!0,onClick:a,color:"primary",variant:"contained",children:"Manter o produto"}),Object(j.jsx)(Y.a,{onClick:l,color:"secondary",variant:"contained",autoFocus:!0,children:"Remover"})]})]})},ne=a(341),oe=a(238),ie=a.n(oe),ce=Object(O.a)((function(e){return{root:{width:380},deleteFlyButton:{position:"absolute",top:22,left:22,width:48,height:48,background:e.palette.secondary.main,cursor:"pointer"},deleteSweepIcon:{color:"rgba(0, 0, 0, 0.7)",width:24,height:24}}}));var se=function(e){var t=e.onClickOpen,a=ce();return Object(j.jsx)(ne.a,{className:a.deleteFlyButton,onClick:t,children:Object(j.jsx)(ie.a,{className:a.deleteSweepIcon})})},le=a(327),de=a(338),ue=a(241),je=a.n(ue),pe=a(240),be=a.n(pe),me=a(239),he=a.n(me),xe=Object(D.a)((function(e){return{root:{flexGrow:1,maxWidth:140},tabs:{minHeight:"100%",maxWidth:140,borderRight:"1px solid ".concat(e.palette.divider),borderRadius:"0 0 40px 0",backgroundColor:e.palette.background.barBackground,display:"flex",alignItems:"center",paddingTop:110,color:e.palette.text.secondary},tab:{boxSizing:"content-box"},active_tab:{color:"red"},svgIcon:{boxSizing:"content-box",fontSize:32,padding:10}}}));function Oe(e){var t=xe(),a=Object(r.useState)(0),n=Object(u.a)(a,2),o=n[0],i=n[1],c=m(),s=c.setUser,l=c.setToken,d=Object(h.g)();return Object(j.jsxs)("div",{style:{display:"flex",minHeight:"100vh"},children:[Object(j.jsx)("div",{className:t.root,children:Object(j.jsxs)(de.a,{orientation:"vertical",value:o,onChange:function(e){i(e)},centered:!0,className:t.tabs,"aria-label":"icon tabs example",classes:{indicator:t.indicator},children:[Object(j.jsx)(le.a,{selected:!0,icon:Object(j.jsx)(he.a,{className:t.svgIcon}),"aria-label":"loja",component:x.b,to:"/produtos"}),Object(j.jsx)(le.a,{icon:Object(j.jsx)(be.a,{className:t.svgIcon}),component:x.b,to:"/perfil","aria-label":"perfil"}),Object(j.jsx)(le.a,{icon:Object(j.jsx)(je.a,{className:t.svgIcon}),"aria-label":"logout",onClick:function(){s({}),l(""),d.push("/")}})]})}),e.children]})}var fe=a(124),ge=a(333),ve=a(337),ye=a(52),ke=/[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/g,we=(0,a(30).makeStyles)((function(e){return{root:{flexGrow:1,overflow:"hidden",padding:e.spacing(0,3)},paper:{maxWidth:400,maxHeight:850,margin:"160px auto",padding:75,textAlign:"center",borderRadius:16},form:{display:"flex",flexDirection:"column",alignItems:"center",flexGrow:1,"& > *":{margin:20}},alert:{width:"100%"}}}));var Ne=function(){var e=we(),t=Object(h.g)(),a=Object(r.useState)(!1),n=Object(u.a)(a,2),o=n[0],i=n[1],c=Object(r.useState)(""),s=Object(u.a)(c,2),l=s[0],d=s[1],p=m(),b=p.setUser,O=p.setToken,f=Object(ye.a)(),g=f.register,v=f.handleSubmit,w=f.formState.errors;function N(){return(N=Object(V.a)($.a.mark((function e(a){var r,n,o;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(!0),e.prev=1,e.next=4,fetch("https://stark-coast-12913.herokuapp.com/login",{method:"POST",body:JSON.stringify({email:a.email,senha:a.password}),headers:{"Content-Type":"application/json"}});case 4:return r=e.sent,e.next=7,r.json();case 7:throw n=e.sent,r.ok&&(b(n.user),O(n.token),t.push("/produtos"),i(!1)),(o=new Error(n)).Status=400,o;case 14:e.prev=14,e.t0=e.catch(1),i(!1),d(e.t0.message);case 18:case"end":return e.stop()}}),e,null,[[1,14]])})))).apply(this,arguments)}return Object(j.jsxs)("div",{className:e.root,children:[Object(j.jsx)(y,{loading:o}),Object(j.jsx)(fe.a,{className:e.paper,elevation:10,children:Object(j.jsx)(ge.a,{container:!0,spacing:2,children:Object(j.jsxs)(ge.a,{item:!0,xs:!0,children:[Object(j.jsx)(G.a,{variant:"h4",gutterBottom:!0,children:"Login"}),Object(j.jsxs)("form",{className:e.form,onSubmit:v((function(e){return N.apply(this,arguments)})),children:[Object(j.jsx)(ve.a,Object(k.a)({label:"E-mail",fullWidth:!0,autoFocus:!0,type:"email",error:!!w.email},g("email",{required:"E-mail obrigat\xf3rio",pattern:{value:ke,message:"E-mail inv\xe1lido"}}))),Object(j.jsx)(R,{label:"Senha",error:!!w.password,register:function(){return g("password",{required:"Senha obrigat\xf3rio"})}}),Object(j.jsx)(L,{errors:w}),l&&Object(j.jsx)(z.a,{severity:"error",className:e.alert,children:l}),Object(j.jsx)(Y.a,{type:"submit",color:"primary",variant:"contained",children:"Entrar"}),Object(j.jsxs)(G.a,{variant:"caption",display:"block",style:{width:"100%"},children:["Primeira vez aqui? ",Object(j.jsx)(x.b,{to:"/cadastro",children:"CRIE UMA CONTA"})]})]})]})})})]})},Se=(0,a(30).makeStyles)((function(e){return{root:{flexGrow:1,overflow:"hidden",padding:e.spacing(0,3)},paper:{maxWidth:400,maxHeight:850,margin:"160px auto",padding:75,textAlign:"center",borderRadius:16},form:{display:"flex",flexDirection:"column",alignItems:"center",flexGrow:1,"& > *":{margin:20}},alert:{width:"100%"}}}));var Ce=function(){var e=Se(),t=Object(r.useState)(!1),a=Object(u.a)(t,2),n=a[0],o=a[1],i=Object(r.useState)(""),c=Object(u.a)(i,2),s=c[0],l=c[1],d=Object(h.g)(),p=Object(ye.a)(),b=p.register,m=p.handleSubmit,O=p.getValues,f=p.formState.errors;function g(){return(g=Object(V.a)($.a.mark((function e(t){var a,r,n;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),e.prev=1,e.next=4,fetch("https://stark-coast-12913.herokuapp.com/cadastro",{method:"POST",body:JSON.stringify({nome:t.username,nome_loja:t.storename,email:t.email,senha:t.password}),headers:{"Content-Type":"application/json"}});case 4:return a=e.sent,e.next=7,a.json();case 7:if(r=e.sent,a.ok){e.next=12;break}throw(n=new Error(r)).Status=400,n;case 12:o(!1),d.push("/login"),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(1),l(e.t0.message),o(!1);case 20:case"end":return e.stop()}}),e,null,[[1,16]])})))).apply(this,arguments)}return Object(j.jsxs)("div",{className:e.root,children:[Object(j.jsx)(y,{loading:n}),Object(j.jsx)(fe.a,{className:e.paper,elevation:10,children:Object(j.jsx)(ge.a,{container:!0,spacing:2,children:Object(j.jsxs)(ge.a,{item:!0,xs:!0,children:[Object(j.jsx)(G.a,{variant:"h4",gutterBottom:!0,children:"Criar uma conta"}),Object(j.jsxs)("form",{className:e.form,onSubmit:m((function(e){return g.apply(this,arguments)})),children:[Object(j.jsx)(ve.a,Object(k.a)(Object(k.a)({id:"username",label:"Seu nome",type:"text",fullWidth:!0},b("username",{required:"Campo 'Usu\xe1rio' obrigat\xf3rio "})),{},{error:!!f.username})),Object(j.jsx)(ve.a,Object(k.a)({id:"storename",label:"Nome da loja",type:"text",fullWidth:!0,error:!!f.storename},b("storename",{required:"Campo 'Nome da Loja' obrigat\xf3rio "}))),Object(j.jsx)(ve.a,Object(k.a)({id:"email",label:"E-mail",type:"email",fullWidth:!0,error:!!f.email},b("email",{required:"Campo 'E-mail' obrigat\xf3rio "}))),Object(j.jsx)(R,{label:"Senha",register:function(){return b("password",{required:"Campo 'Senha' obrigat\xf3rio "})},error:!!f.password}),Object(j.jsx)(R,{label:"Repita a senha",error:!!f.passwordConfirmation,register:function(){return b("passwordConfirmation",{required:"Confirme a senha!",validate:{matchesPreviousPassword:function(e){return O().password===e||"Senha n\xe3o confere!"}}})}}),s&&Object(j.jsx)(z.a,{severity:"error",className:e.alert,children:s}),Object(j.jsx)(L,{errors:f}),Object(j.jsx)(Y.a,{type:"submit",color:"primary",variant:"contained",children:"CRIAR CONTA"}),Object(j.jsxs)(G.a,{variant:"caption",display:"block",children:["J\xe1 possui uma conta? ",Object(j.jsx)(x.b,{to:"/login",children:" ACESSE"})]})]})]})})})]})},Te=a(332),Be=Object(D.a)((function(e){return{root:{marginLeft:60,marginTop:78},title:{marginBottom:86},subtitle:{marginBottom:57},divider:{margin:"1rem 0",width:"100%"}}}));var Ee=function(){var e=Be(),t=Object(r.useState)([]),a=Object(u.a)(t,2),n=a[0],o=a[1],i=Object(r.useState)(!1),c=Object(u.a)(i,2),s=c[0],l=c[1],d=Object(h.g)(),p=Object(r.useState)(""),b=Object(u.a)(p,2),O=b[0],f=b[1],g=m(),v=g.user,y=g.token;function k(){return w.apply(this,arguments)}function w(){return(w=Object(V.a)($.a.mark((function e(){var t,a;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://stark-coast-12913.herokuapp.com/produtos",{headers:{Authorization:"Bearer "+y}});case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,o(a),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),d.push("/produtos");case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}return Object(r.useEffect)((function(){k()})),Object(j.jsxs)("div",{className:e.root,children:[Object(j.jsx)(re,{open:s,onClose:function(){l(!1),d.push("/produtos")},id:O,getData:k}),Object(j.jsx)(G.a,{variant:"h3",className:e.title,children:v.nome_loja}),Object(j.jsx)(G.a,{variant:"h4",className:e.subtitle,children:"Seus produtos"}),Object(j.jsx)("div",{style:{display:"flex",marginRight:"10px"},children:n&&n.map((function(e){return Object(j.jsx)(M,{onClickOpen:function(t){return function(e,t){e.stopPropagation(),e.cancelBubble=!0,f(t),l(!0)}(t,e.id)},item:e},e.id)}))}),Object(j.jsx)(Te.a,{className:e.divider}),Object(j.jsx)(Y.a,{variant:"contained",color:"primary",component:x.b,to:"/produtos/novo",children:"Adicionar produto"})]})},Ie=Object(D.a)((function(e){return{root:{marginLeft:60,marginTop:78,display:"flex",flexDirection:"column"},title:{marginBottom:86},subtitle:{marginBottom:57},forms:{display:"flex",flexDirection:"column"},margin:{marginBottom:48,marginRight:24},divider:{margin:"1rem 0"},footer:{marginTop:"auto"}}}));var De=function(){var e=Ie(),t=Object(h.g)(),a=Object(r.useState)(!1),n=Object(u.a)(a,2),o=n[0],i=n[1],c=m(),s=c.user,l=c.token,d=Object(ye.a)(),p=d.register,b=d.handleSubmit,O=d.formState.errors;function f(){return(f=Object(V.a)($.a.mark((function e(a){var r,n,o,c;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(!0),console.log(a),r=(100*a.price).toFixed(0),e.prev=3,e.next=6,fetch("https://stark-coast-12913.herokuapp.com/produtos",{method:"POST",body:JSON.stringify({id:s.id,nome:a.productName,preco:r,estoque:a.stock,descricao:a.productDescription,imagem:a.productImage}),headers:{"Content-Type":"application/json",authorization:"Bearer "+l}});case 6:return n=e.sent,e.next=9,n.json();case 9:if(o=e.sent,n.ok){e.next=14;break}throw(c=new Error(o)).Status=400,c;case 14:t.push("/produtos"),i(!1),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(3),i(!1);case 21:case"end":return e.stop()}}),e,null,[[3,18]])})))).apply(this,arguments)}return Object(j.jsxs)("div",{className:e.root,children:[Object(j.jsx)(y,{loading:o}),Object(j.jsx)(G.a,{variant:"h3",className:e.title,children:s.nome_loja}),Object(j.jsx)(G.a,{variant:"h4",className:e.subtitle,children:"Adicionar produto"}),Object(j.jsxs)("form",{onSubmit:b((function(e){return f.apply(this,arguments)})),className:e.forms,children:[Object(j.jsx)(ve.a,Object(k.a)({id:"storename",label:"Nome do produto",type:"text",className:e.margin},p("productName",{required:"'Nome do produto' obrigat\xf3rio "}))),Object(j.jsxs)("div",{children:[Object(j.jsx)(ve.a,Object(k.a)(Object(k.a)({},p("price")),{},{label:"Pre\xe7o",id:"price",type:"number",className:Object(I.a)(e.margin),InputProps:{inputProps:{min:0,step:.01},startAdornment:Object(j.jsx)(C.a,{position:"start",children:"R$"})}})),Object(j.jsx)(ve.a,Object(k.a)(Object(k.a)({},p("stock")),{},{label:"Estoque",id:"stock",className:Object(I.a)(e.margin),type:"number",InputProps:{inputProps:{min:0},startAdornment:Object(j.jsx)(C.a,{position:"start",children:"Un"})}}))]}),Object(j.jsx)(ve.a,Object(k.a)({id:"productDescription",label:"Descri\xe7\xe3o do produto",type:"text",className:e.margin},p("productDescription"))),Object(j.jsx)(ve.a,Object(k.a)({id:"productImage",label:"Imagem",type:"text",className:e.margin},p("productImage"))),Object(j.jsxs)("div",{className:e.footer,children:[Object(j.jsx)(Te.a,{className:e.divider}),Object(j.jsx)(L,{errors:O}),Object(j.jsx)(Y.a,{color:"primary",component:x.b,to:"/produtos",children:"CANCELAR"}),Object(j.jsx)(Y.a,{variant:"contained",color:"primary",type:"submit",children:"Adicionar produto"})]})]})]})},Pe=a(245),Re=a.n(Pe),Ae=Object(D.a)((function(e){return{root:{marginLeft:60,marginTop:78,display:"flex",flexDirection:"column"},toFlex:{display:"flex"},title:{marginBottom:86},subtitle:{marginBottom:57},form:{display:"flex",flexDirection:"column"},margin:{marginBottom:48,marginRight:24},divider:{margin:"1rem 0"},image:{display:"flex",alignItems:"center",justifyContent:"center",marginLeft:e.spacing(10),borderRadius:"16px"},footer:{marginTop:"auto"}}}));var ze=function(e){var t=Ae(),a=Object(h.g)(),n=Object(r.useState)({}),o=Object(u.a)(n,2),i=o[0],c=o[1],s=m(),l=s.user,d=s.token,p=Object(r.useState)(!1),b=Object(u.a)(p,2),x=b[0],O=b[1],f=e.match.params.id,g=Object(ye.a)(),v=g.register,w=g.handleSubmit;function N(){return(N=Object(V.a)($.a.mark((function e(t){var r,n,o;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O(!0),(r=Object.fromEntries(Object.entries(t).filter((function(e){return Object(u.a)(e,2)[1]})))).preco&&(r.preco*=100),e.prev=3,e.next=6,fetch("https://stark-coast-12913.herokuapp.com/produto/".concat(f),{method:"PUT",body:JSON.stringify(r),headers:{"Content-type":"application/json",Authorization:"Bearer "+d}});case 6:return n=e.sent,e.next=9,n.json();case 9:return(o=e.sent).error&&console.log(o.error),O(!1),e.abrupt("return",a.push("/produtos"));case 15:e.prev=15,e.t0=e.catch(3),O(!1);case 18:case"end":return e.stop()}}),e,null,[[3,15]])})))).apply(this,arguments)}return Object(r.useEffect)((function(){function e(){return(e=Object(V.a)($.a.mark((function e(){var t,a;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O(!0),e.prev=1,e.next=4,fetch("https://stark-coast-12913.herokuapp.com/produtos/".concat(f),{method:"GET",headers:{Authorization:"Bearer ".concat(d)}});case 4:return t=e.sent,e.next=7,t.json();case 7:return a=e.sent,O(!1),e.abrupt("return",c(a));case 12:return e.prev=12,e.t0=e.catch(1),e.abrupt("return",O(!1));case 15:case"end":return e.stop()}}),e,null,[[1,12]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()})),Object(j.jsxs)("div",{className:t.root,children:[Object(j.jsx)(y,{loading:x}),Object(j.jsxs)("form",{onSubmit:w((function(e){return N.apply(this,arguments)})),children:[Object(j.jsx)(G.a,{variant:"h3",className:t.title,children:l.nome_loja}),Object(j.jsx)(G.a,{variant:"h4",className:t.subtitle,children:"Editar produto"}),Object(j.jsxs)("div",{className:t.toFlex,children:[Object(j.jsxs)("div",{className:t.form,children:[Object(j.jsx)(ve.a,Object(k.a)({id:"storename",label:"Nome do produto",helperText:i.nome,type:"text",className:t.margin},v("nome"))),Object(j.jsxs)("div",{children:[Object(j.jsx)(ve.a,Object(k.a)({label:"Pre\xe7o",id:"standard-start-adornment",type:"number",helperText:i.preco,className:Object(I.a)(t.margin,t.textField),InputProps:{inputProps:{min:"0.00",step:"0.01"},startAdornment:Object(j.jsx)(C.a,{position:"start",children:"R$"})}},v("preco"))),Object(j.jsx)(ve.a,Object(k.a)({label:"Estoque",id:"standard-start-adornment",helperText:i.estoque,className:Object(I.a)(t.margin,t.textField),type:"number",InputProps:{inputProps:{min:0},startAdornment:Object(j.jsx)(C.a,{position:"start",children:"Un"})}},v("estoque")))]}),Object(j.jsx)(ve.a,Object(k.a)({id:"productDescription",label:"Descri\xe7\xe3o do produto",helperText:i.descricao,type:"text",className:t.margin},v("descricao"))),Object(j.jsx)(ve.a,Object(k.a)({id:"productImage",label:"Imagem",helperText:i.imagem,type:"text",className:t.margin},v("imagem")))," "]}),Object(j.jsx)("div",{className:t.image,children:Object(j.jsx)(Re.a,{src:i.imagem,style:{width:"300px",height:"400px",borderRadius:"16px",overflow:"hidden"}})})]}),Object(j.jsxs)("div",{className:t.footer,children:[Object(j.jsx)(Te.a,{className:t.divider}),Object(j.jsx)(Y.a,{color:"primary",onClick:function(){return a.push("/produtos")},children:"CANCELAR"}),Object(j.jsx)(Y.a,{variant:"contained",color:"primary",type:"submit",children:"Editar produto"})]})]})]})},Fe=Object(D.a)((function(e){return{root:{marginLeft:60,marginTop:78,display:"flex",flexDirection:"column"},title:{marginBottom:86},subtitle:{marginBottom:57},form:{width:390,display:"flex",flexDirection:"column"},margin:{marginBottom:48,marginRight:24},divider:{margin:"1rem 0"},footer:{marginTop:"auto"}}}));var Le=function(){var e=Fe(),t=m().user;return Object(j.jsxs)("div",{className:e.root,children:[Object(j.jsx)(G.a,{variant:"h3",className:e.title,children:t.nome_loja}),Object(j.jsx)(G.a,{variant:"h4",className:e.subtitle,children:"Perfil"}),Object(j.jsxs)("form",{className:e.form,children:[Object(j.jsx)(ve.a,{id:"storename",label:"Seu nome",type:"text",value:t.nome_loja,fullwidth:!0,className:e.margin,InputLabelProps:{shrink:!0}}),Object(j.jsx)(ve.a,{id:"productDescription",label:"Nome da loja",type:"text",value:t.nome,fullwidth:!0,className:e.margin,InputLabelProps:{shrink:!0}}),Object(j.jsx)(ve.a,{id:"productDescription",label:"E-mail",type:"email",value:t.email,fullwidth:!0,className:e.margin,InputLabelProps:{shrink:!0}}),Object(j.jsxs)("div",{className:e.footer,children:[Object(j.jsx)(Te.a,{className:e.divider}),Object(j.jsx)(Y.a,{variant:"contained",color:"primary",type:"submit",component:x.b,to:"/perfil/editar",children:"Editar perfil"})]})]})]})},qe=Object(D.a)((function(e){return{root:{marginLeft:60,marginTop:78,display:"flex",flexDirection:"column"},title:{marginBottom:86},subtitle:{marginBottom:57},form:{width:390,display:"flex",flexDirection:"column"},margin:{marginBottom:48,marginRight:24,width:"100%"},divider:{margin:"1rem 0"},footer:{marginTop:"auto"}}}));var Ue=function(){var e=qe(),t=m(),a=t.token,n=t.setUser,o=Object(h.g)(),i=Object(r.useState)(!1),c=Object(u.a)(i,2),s=c[0],l=c[1],d=Object(r.useState)(),p=Object(u.a)(d,2),b=p[0],O=p[1],f=Object(ye.a)(),g=f.register,v=f.handleSubmit,w=f.getValues,N=f.formState.errors;function S(){return(S=Object(V.a)($.a.mark((function e(t){var r,i,c;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),O(""),r=Object.fromEntries(Object.entries(t).filter((function(e){return Object(u.a)(e,2)[1]}))),e.prev=3,e.next=6,fetch("https://stark-coast-12913.herokuapp.com/perfil",{method:"PUT",body:JSON.stringify(r),headers:{"Content-type":"application/json",Authorization:"Bearer "+a}});case 6:return i=e.sent,e.next=9,i.json();case 9:if(c=e.sent,l(!1),!i.ok){e.next=14;break}return n(c),e.abrupt("return",o.push("/produtos"));case 14:O(c),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(3),l(!1),O(e.t0.message);case 21:case"end":return e.stop()}}),e,null,[[3,17]])})))).apply(this,arguments)}return Object(j.jsxs)("form",{onSubmit:v((function(e){return S.apply(this,arguments)})),className:e.root,children:[Object(j.jsx)(y,{loading:s}),Object(j.jsx)(G.a,{variant:"h3",className:e.title,children:"Nome da loja"}),Object(j.jsx)(G.a,{variant:"h4",className:e.subtitle,children:"Editar perfil"}),Object(j.jsxs)("div",{className:e.form,children:[Object(j.jsx)(ve.a,Object(k.a)({id:"storename",label:"Seu nome",type:"text",fullwidth:!0,className:e.margin},g("nome"))),Object(j.jsx)(ve.a,Object(k.a)({id:"productDescription",label:"Nome da loja",type:"text",fullwidth:!0,className:e.margin},g("nome_loja"))),Object(j.jsx)(ve.a,Object(k.a)({id:"productDescription",label:"E-mail",type:"email",fullwidth:!0,className:e.margin},g("email"))),Object(j.jsx)(R,{label:"Senha",register:function(){return g("senha",{required:"Campo 'Senha' obrigat\xf3rio "})},error:!!N.password}),Object(j.jsx)(R,{label:"Repita a senha",error:!!N.passwordConfirmation,register:function(){return g("passwordConfirmation",{required:"Confirme a senha!",validate:{matchesPreviousPassword:function(e){return w().senha===e||"Senha n\xe3o confere!"}}})}}),Object(j.jsxs)("div",{className:e.footer,children:[Object(j.jsx)(Te.a,{className:e.divider}),b&&Object(j.jsx)(z.a,{severity:"error",children:b}),Object(j.jsx)(L,{errors:N}),Object(j.jsx)(Y.a,{variant:"outlined",color:"primary",component:x.b,to:"/perfil",children:"Cancelar"}),Object(j.jsx)(Y.a,{variant:"contained",color:"primary",type:"submit",children:"Editar perfil"})]})]})]})},We=a(329),_e=a(169),Ge=a(330),Je=a(334),Me=a(246),He=a.n(Me),$e=a(340);function Ve(){return Object(j.jsxs)(G.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(j.jsx)(Je.a,{color:"inherit",href:"https://github.com/nunestiago",children:"Tiago Nunes"})," ",(new Date).getFullYear(),"."]})}var Ye=Object(O.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",display:"flex",flexDirection:"column",alignItems:"center",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function Ke(){var e=Ye(),t=Object(h.g)(),a=Object(r.useState)([]),n=Object(u.a)(a,2),o=n[0],i=n[1],c=Object(r.useState)([]),l=Object(u.a)(c,2),d=l[0],p=l[1],b=Object(r.useState)([]),m=Object(u.a)(b,2),x=m[0],O=m[1];function f(){return(f=Object(V.a)($.a.mark((function e(){var t,a;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://stark-coast-12913.herokuapp.com/lojas");case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,i(a),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(0);case 12:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function g(){return(g=Object(V.a)($.a.mark((function e(t){var a,r;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",p([]));case 2:return e.prev=2,e.next=5,fetch("https://stark-coast-12913.herokuapp.com/lojas/".concat(t));case 5:return a=e.sent,e.next=8,a.json();case 8:r=e.sent,p(r),e.next=14;break;case 12:e.prev=12,e.t0=e.catch(2);case 14:case"end":return e.stop()}}),e,null,[[2,12]])})))).apply(this,arguments)}return Object(r.useEffect)((function(){!function(){f.apply(this,arguments)}()}),[]),Object(r.useEffect)((function(){!function(e){g.apply(this,arguments)}(null===x||void 0===x?void 0:x.id)}),[x]),Object(j.jsxs)(Ge.a,{component:"main",maxWidth:"xs",children:[Object(j.jsx)(s.a,{}),Object(j.jsxs)("div",{className:e.paper,children:[Object(j.jsx)(ne.a,{className:e.avatar,children:Object(j.jsx)(He.a,{})}),Object(j.jsx)(G.a,{component:"h1",variant:"h5",gutterBottom:!0,style:{marginBottom:30},children:"Mini lojas da Cubos"}),Object(j.jsxs)("form",{className:e.form,noValidate:!0,children:[Object(j.jsx)($e.a,{id:"sele\xe7\xe3o de lojas",options:o,getOptionLabel:function(e){return e.nome_loja},style:{width:300,marginBottom:30},renderInput:function(e){return Object(j.jsx)(ve.a,Object(k.a)(Object(k.a)({},e),{},{label:"Lojas",variant:"outlined"}))},onChange:function(e,t){return O(t)}}),Object(j.jsx)("div",{children:Object(j.jsxs)(We.a,{children:[Object(j.jsx)(Y.a,{variant:"contained",color:"secondary",style:{marginBottom:30},onClick:function(){return t.push("/login")},children:"Login"}),Object(j.jsx)(Y.a,{variant:"contained",color:"primary",style:{marginBottom:30},onClick:function(){return t.push("/cadastro")},children:"Cadastro"})]})}),Object(j.jsx)("div",{style:{display:"flex",width:"100vw",justifyContent:"center"},children:d&&d.map((function(e){return Object(j.jsx)(M,{item:e})}))})]})]}),Object(j.jsx)(_e.a,{mt:8,children:Object(j.jsx)(G.a,{variant:"body2",color:"textSecondary",align:"center",children:"Todas as lojas s\xe3o meramente demonstrativas, o site n\xe3o possui sistema de pagamentos."})}),Object(j.jsx)(_e.a,{mt:8,children:Object(j.jsx)(Ve,{})})]})}function Qe(e){var t=e.children,a=m().token;return Object(j.jsx)(h.b,{render:function(){return a?t:Object(j.jsx)(h.a,{to:"/"})}})}var Xe=function(){return Object(j.jsx)(x.a,{children:Object(j.jsxs)(h.d,{children:[Object(j.jsx)(h.b,{path:"/",exact:!0,component:Ke}),Object(j.jsx)(h.b,{path:"/cadastro",component:Ce}),Object(j.jsx)(h.b,{path:"/login",exact:!0,component:Ne}),Object(j.jsx)(Qe,{children:Object(j.jsxs)(Oe,{children:[Object(j.jsx)(h.b,{path:"/produtos",exact:!0,component:Ee}),Object(j.jsx)(h.b,{path:"/produtos/novo",component:De}),Object(j.jsx)(h.b,{path:"/produtos/:id/editar",component:ze}),Object(j.jsx)(h.b,{path:"/perfil/editar",component:Ue}),Object(j.jsx)(h.b,{path:"/perfil/",exact:!0,component:Le})]})})]})})};var Ze=function(){return Object(j.jsx)(c.a,{theme:d,children:Object(j.jsxs)(b,{children:[Object(j.jsx)(s.a,{}),Object(j.jsx)(Xe,{})]})})};i.a.render(Object(j.jsx)(n.a.StrictMode,{children:Object(j.jsx)(Ze,{})}),document.getElementById("root"))}},[[280,1,2]]]);
//# sourceMappingURL=main.fe5064d5.chunk.js.map